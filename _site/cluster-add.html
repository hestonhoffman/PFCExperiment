<p>With Pipelines, you can create, manage, and deploy to Docker clusters.</p>

<p>There are numerous types of Docker clustering platforms. These include:</p>

<ul>
  <li>Docker Swarm</li>
  <li>Kubernetes</li>
  <li>Mesos</li>
  <li>and more...</li>
</ul>

<p>A cluster is a grouping of server instances for deploying running Docker containers. The cluster can be treated as a single entity that dynamically runs Docker containers on appropriate resources. Clusters can provide auto-scaling of services.</p>

<h2 id="kubernetes">Kubernetes</h2>

<p>Kubernetes (k8s) is an open source container cluster manager originally designed by Google. K8s works with Docker containers and coordinates a cluster of hosts running Docker. K8s provides a platform for deploying, scaling, and operations of containers across clusters of hosts.</p>

<p>Kubernetes is Greek for Helmsman or Pilot.</p>

<p>Pipelines for Containers offers advanced features for k8s cluster management, including:</p>

<ul>
  <li>Learning of existing clusters dynamically and manually.</li>
  <li>Automated builds and deploy (CI/CD).</li>
  <li>Creating new clusters.</li>
  <li>Monitoring the cluster.</li>
  <li>Deploying containers to the cluster.</li>
  <li>Creating services.</li>
  <li>Inspecting logs.</li>
  <li>and much more...</li>
</ul>

<p>K8s uses a command line tool called kubectl. It is available <a href="http://kubernetes.io/docs/user-guide/prereqs/" target="_blank">here</a>.</p>

<p>The k8s CLI requires a <a href="http://kubernetes.io/docs/user-guide/kubeconfig-file/" target="_blank">kubeconfig</a> file with information on how to connect to a cluster. This file can be downloaded from Pipelines.</p>

<h2 id="sync-clusters">Sync clusters</h2>

<p>The Sync Clusters feature is specifically for synchronizing clusters in Google Cloud with Pipelines.</p>

<p>You can synchronize with all Google Cloud Projects or only specific projects.</p>

<p>To synchronized your clusters with your Google Cloud Project:</p>

<ol>
  <li>From the Pipelines for Containers web UI, click the <b>Clusters</b> link at the top.</li>
  <li>Click the <b>Sync Clusters</b> link.</li>
</ol>

<blockquote>
  <p><strong>Note:</strong> If you have not configured your Google Cloud integrations within Pipelines, you will not have a <i>Sync Clusters</i> button, but instead a <b>Connect GCE</b>. Before continuing, click <b>Connect GCE</b> and integrate Pipelines with your GCE.</p>
</blockquote>

<p>Select 1 or more projects and click <b>Update Selected Projects</b><br /><b>OR</b><br />Click <b>Update All Projects</b>.</p>

<p><img src="images/k8s-sync-clusters.png" alt="Sync Clusters" /></p>

<p>Pipelines will update the clusters in the GCE project(s) you have chosen. This includes learning of new ones and the removal of any deleted clusters.</p>

<h2 id="add-gke-cluster">Add GKE cluster</h2>

<p>Adding a Google Container Engine (GKE) Cluster will create a new cluster in Google Cloud that Pipelines will manage</p>

<h3>1 - Google Credentials</h3>
<p><img src="images/newgcecluster-1.png" alt="New GKE Cluster Step 1" />
Adding a cluster to Google Cloud will require your add your Google credentials. The credentials must have GKE IAM, Cloud Resource Manager, Compute Engine, and Container Engine API’s.</p>

<h3>2 - Select Project</h3>
<p><img src="images/newgcecluster-2.png" alt="New GKE Cluster Step 2" />
Select which project in GKE you wish to create the kubernetes cluster. This project must have API access.</p>

<h3>3 - Name your Cluster</h3>
<p><img src="images/newgcecluster-3.png" alt="New GKE Cluster Step 3" />
Give the cluster a name. Names must start with a lowercase letter followed by up to 29 lowercase letters (max length is 30), numbers, or hyphens, and cannot end with a hyphen.</p>

<h3>4 - Select Zone</h3>
<p><img src="images/newgcecluster-4.png" alt="New GKE Cluster Step 4" />
Select the GKE zone that this cluster will be created in.</p>

<h3>5 - Select Machine Type</h3>
<p><img src="images/newgcecluster-5.png" alt="New GKE Cluster Step 5" />
Typically a cluster should start with at least 3 machines of the appropriate size. Select the machine type.</p>

<h3>6 - Enter the number of nodes in your cluster</h3>
<p><img src="images/newgcecluster-6.png" alt="New GKE Cluster Step 6" /></p>

<h3>7 - The IP addresses of the container pods in this cluster</h3>
<p><img src="images/newgcecluster-7.png" alt="New GKE Cluster Step 7" />
Specify a /14 block in the block 10.0.0.0/8.</p>

<h3>8 - Enter Disk Size in GB</h3>
<p><img src="images/newgcecluster-8.png" alt="New GKE Cluster Step 8" />
Allowable Range: 10GB - 65536GB.</p>

<h3>9 - Configure Tags</h3>
<p><img src="images/newgcecluster-9.png" alt="New GKE Cluster Step 9" />
For more info on GKE tags please see <a href="https://cloud.google.com/compute/docs/label-or-tag-resources" target="_blank">Label or Tag Resources</a>.</p>

<h3>10 - Access Scopes</h3>
<p><img src="images/newgcecluster-10.png" alt="New GKE Cluster Step 10" />
Select the <b>Access Scopes</b> as necessary.</p>

<h3>11 - Please enter the credentials that will be used to access the cluster master endpoint</h3>
<p><img src="images/newgcecluster-11.png" alt="New GKE Cluster Step 11" />
This will configure basic authentication credentials for access to the cluster. Pipelines does not use basic authentication to access the cluster.</p>

<h3>12 - Launch Cluster!</h3>
<p><img src="images/newgcecluster-12.png" alt="New GKE Cluster Step 12" />
When you are ready, click <b>Launch</b> to launch the cluster.</p>

<h2 id="add-aws-cluster">Add AWS cluster</h2>

<p>Adding an AWS Cluster will create a new cluster in AWS that Pipelines will manage</p>

<p>When adding a new cluster, to AWS, the selection of VPC, Subnets, and Security Groups is important in that the resulting Cluster management IP Address must be reachable by Pipelines on port 443.</p>

<h3>1 - EC2 Credentials</h3>
<p><img src="images/newawscluster-1.png" alt="New AWS Cluster Step 1" />
Adding a cluster to AWS will require your add your AWS credentials. The credentials must have appropriate permissions to launch EC2 instances.</p>

<h3>2 - Select Region</h3>
<p><img src="images/newawscluster-2.png" alt="New AWS Cluster Step 2" />
Select the AWS region.</p>

<h3>3 - Name your Cluster</h3>
<p><img src="images/newawscluster-3.png" alt="New AWS Cluster Step 3" />
Give the cluster a name. Names must start with a lowercase letter followed by up to 29 lowercase letters (max length is 30), numbers, or hyphens, and cannot end with a hyphen.</p>

<h3>4 - Select Instance Type</h3>
<p><img src="images/newawscluster-4.png" alt="New AWS Cluster Step 4" />
Typically a cluster should start with at least 3 instances of the appropriate size. Select the instance type and number of nodes.</p>

<h3>5 - Configure Virtual Private Cloud</h3>
<p><img src="images/newawscluster-5.png" alt="New AWS Cluster Step 5" />
Select a VPC that will have a subnet for the master subnet that includes an Internet gateway. The VPC should also have a subnet for the minion subnet that includes a NAT.</p>

<h3>6 - Configure Master Subnet</h3>
<p><img src="images/newawscluster-6.png" alt="New AWS Cluster Step 6" />
The master node should reside in a subnet with an Internet gateway.</p>

<h3>7 - Configure Minion Subnet</h3>
<p><img src="images/newawscluster-7.png" alt="New AWS Cluster Step 7" />
The minion nodes should reside in a subnet with a NAT (Network Address Translation) device.</p>

<h3>8 - Configure Subnet IP Ranges</h3>
<p><img src="images/newawscluster-8.png" alt="New AWS Cluster Step 8" />
Note, this IP block must be unused and available across all clusters.</p>

<h3>9 - Configure Master Endpoint</h3>
<p><img src="images/newawscluster-9.png" alt="New AWS Cluster Step 9" />
The Cluster master endpoint comes from an existing AWS Elastic IP.</p>

<h3>10 - Configure Key Pairs</h3>
<p><img src="images/newawscluster-10.png" alt="New AWS Cluster Step 10" />
The SSH key pairs will be used for access to the ec2 instances.
Pipelines does not use key pairs to access the cluster. Pipelines uses certificates to access the cluster.</p>

<h3>11 - Configure IAM Role</h3>
<p><img src="images/newawscluster-11.png" alt="New AWS Cluster Step 11" />
Select the IAM role for the cluster.</p>

<h3>12 - Configure Security Groups</h3>
<p><img src="images/newawscluster-12.png" alt="New AWS Cluster Step 12" />
Select the security group(s) for the cluster.</p>

<h3>13 - Configure Root Partition Size (GB)</h3>
<p><img src="images/newawscluster-13.png" alt="New AWS Cluster Step 13" /></p>

<h3>14 - Configure EBS Volume</h3>
<p><img src="images/newawscluster-14.png" alt="New AWS Cluster Step 14" /></p>

<h3>15 - Configure Tags</h3>
<p><img src="images/newawscluster-15.png" alt="New AWS Cluster Step 15" />
For more information on AWS tags, please see &lt;a href=”http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html target=”_blank”&gt;AWS Using Tags&lt;/a&gt;.</p>

<h3>16 - Launch AWS Kubernetes Cluster!</h3>
<p><img src="images/newawscluster-16.png" alt="New AWS Cluster Step 16" />
When you are ready, click <b>Launch Cluster</b> to launch the cluster.</p>

<h2 id="using-multiple-ec2-credentials">Using multiple EC2 credentials</h2>

<p>This feature allows the addition of multiple AWS EC2 credentials from which to launch EC2 instances. This includes launching instances for a Kubernetes cluster in AWS.</p>

<h3>Setup Multiple EC2 credentials</h3>

<p>To navigate to the EC2 credentials:</p>

<ol>
    <li>Ensure you are on the <b>VM Dashboard</b>.</li>
    <li>Click the <b>Gear</b> icon at the top right of the Pipelines web UI.</li>
    <li>Click the <b>Integrations</b> link on the left.</li>
    <li>Click the <b>Amazon Web Services</b> icon.</li>
    <li>Select the <b>AWS EC2</b> tab.</li>
</ol>

<p>You can add multiple keys by clicking the <b>Add Key</b> link.</p>

<p><img src="images/m-ec2-add-keys.png" alt="ec2 add keys" /></p>

<h3>RBAC Permissions for EC2 Credentials</h3>

<p>After adding one or more AWS EC2 credentials, a permission group can be configured to control which users have access to which credentials.</p>

<p>To create group permissions for access to AWS EC2 credentials:</p>

<ol>
    <li>Ensure you are on the <b>VM Dashboard</b>.</li>
    <li>Click the <b>Gear</b> icon at the top right of the Pipelines web UI.</li>
    <li>Click the <b>Groups</b> link on the left.</li>
    <li>Either <b>Create New Group</b> or edit an existing group.</li>
    <li>Scroll to the bottom of the group permissions to find the <b>Provisioning</b> section.</li>
</ol>

<p>From here the group permission specifies what EC2 credentials users of this group have and do not have access to.</p>

<p><img src="images/m-ec2-group-permissions.png" alt="ec2 key permissions" /></p>

<p>For more information on users and group permissions see:</p>

<ul>
  <li><a href="./users.html">Users</a></li>
  <li><a href="./group.html">Groups</a></li>
</ul>

<h3>Using Multiple EC2 Credentials</h3>

<p>Now, when launching EC2 instances (or EC2 clusters) a user will be prompted which credentials to use, based on the available credentials to that user.</p>

<p><img src="images/m-ec2-launch.png" alt="ec2 launch" /></p>

<h2 id="add-an-existing-cluster">Add an existing cluster</h2>

<p>Adding an existing Cluster to Pipelines will allow you to automate deployments to the cluster, and manage the cluster in Pipelines.</p>

<p>When adding an existing cluster to Pipelines, it is critical that the Cluster management IP Address must be reachable by Pipelines on port 443.</p>

<p>Connecting to a cluster will typically require, at a minimum (except GKE):</p>

<ul>
  <li>Client certificate</li>
  <li>Client key</li>
  <li>Cluster certificate</li>
</ul>

<p>Pipelines uses certificates for authentication. Pipelines does not use basic authentication.</p>

<h3>Obtaining your Cluster Certificates</h3>

<p>You can obtain your cluster certificates from a kubectrl <code>~/.kube/config</code> configuration file.</p>

<p>A single cluster configuration may look like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\-\-\-
apiVersion: "v1"
clusters:
- name: "kubernetes"
  cluster:
    certificate-authority-data: "ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEF" 
    server: "https://104.198.1.40"
contexts:
- name: "admin@kubernetes"
  context:
    cluster: "kubernetes"
    user: "admin"
current-context: "admin@kubernetes"
kind: "Config"
preferences: {}
users:
- name: "admin"
  user:
    client-certificate-data: "ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJ"
    client-key-data: "ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZ" 
</code></pre></div></div>

<p>The fields are as follows:</p>

<table>
<tr><th>~/.kube/config field</th><th>Pipelines field</th></tr>
<tr><td>certificate-authority-data</td><td>cluster certificate</td></tr>
<tr><td>client-certificate-data</td><td>client certificate</td></tr>
<tr><td>client-key-data</td><td>client key</td></tr>
<tr><td>server</td><td>Master Endpoint IP</td></tr>
</table>

<p>If you need to create a new certificate for Pipelines to use on your cluster, please see <a href="http://kubernetes.io/docs/user-guide/kubectl/kubectl_config_set-credentials/" target="_blank">kubectl config set-credentials</a>.</p>

<h3>Connecting your Cluster</h3>

<p>Depending on which cloud provider is hosting your existing clusters, Pipelines will need differing information to connect to your cluster.</p>

<p><img src="images/k8s-existing-cluster.png" alt="Existing Cluster" /></p>

<h3>Connecting Google Cloud (GKE)</h3>

<p>Please see the Sync Clusters section above.</p>

<h3>Connecting Amazon Web Services (AWS)</h3>

<p>If you have not already configured your AWS credentials in the <a href="./integrate.html">integrations</a> page, you will be prompted to add them during the add existing cluster workflow.</p>

<p><img src="images/k8s-add-new-credentials.png" alt="Add AWS credentials" /></p>

<p>You will need to provide the following information:</p>

<ul>
  <li><b>Enter your cluster name</b> - This name will appear in Pipelines.</li>
  <li><b>Select your cluster region</b> - The AWS region that the cluster exists in.</li>
  <li><b>Enter you Master Node Instance ID</b> - The AWS EC2 Instance ID for the cluster master node.</li>
  <li><b>Enter your Master Endpoint IP</b> - The master IPv4 endpoint address for the cluster.</li>
  <li><b>Enter your client certificate</b> - The cluster client certificate.</li>
  <li><b>Enter your client key</b> - The cluster client key.</li>
  <li><b>Enter your cluster certificate</b> - The cluster certificate.</li>
</ul>

<h3>Connecting Microsoft Azure</h3>

<p>To connect to a Kubernetes cluster in Microsoft Azure you will need to provide the following information:</p>

<ul>
  <li><b>Enter your cluster name</b> - This name will appear in Pipelines.</li>
  <li><b>Enter your cluster region</b> - The Azure region that the cluster exists in.</li>
  <li><b>Enter your Master Endpoint IP</b> - The master IPv4 endpoint address for the cluster.</li>
  <li><b>Enter your client certificate</b> - The cluster client certificate.</li>
  <li><b>Enter your client key</b> - The cluster client key.</li>
  <li><b>Enter your cluster certificate</b> - The cluster certificate.</li>
</ul>

<h3>Bare Metal</h3>

<p>To connect to a Kubernetes cluster on bare metal you will need to provide the following information:</p>

<ul>
  <li><b>Enter your cluster name</b> - This name will appear in Pipelines.</li>
  <li><b>Enter your cluster region</b> - The region that the cluster exists in.</li>
  <li><b>Enter your Master Endpoint IP</b> - The master IPv4 endpoint address for the cluster.</li>
  <li><b>Enter your client certificate</b> - The cluster client certificate.</li>
  <li><b>Enter your client key</b> - The cluster client key.</li>
  <li><b>Enter your cluster certificate</b> - The cluster certificate.</li>
</ul>

<h3>Other</h3>

<p>To connect to a Kubernetes cluster you will need to provide the following information:</p>

<ul>
  <li><b>Enter your cluster name</b> - This name will appear in Pipelines.</li>
  <li><b>Enter your cluster region</b> - The region that the cluster exists in.</li>
  <li><b>Enter your Master Endpoint IP</b> - The master IPv4 endpoint address for the cluster.</li>
  <li><b>Enter your client certificate</b> - The cluster client certificate.</li>
  <li><b>Enter your client key</b> - The cluster client key.</li>
  <li><b>Enter your cluster certificate</b> - The cluster certificate.</li>
</ul>

