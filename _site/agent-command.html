<p><strong>intro text goes here</strong></p>

<h2 id="h3usrlocalbindistelli-agent-dumph3">&lt;h3&gt;<a name="agent-dump"></a>/usr/local/bin/distelli agent dump&lt;/h3&gt;</h2>

<p>Prints the agent processes, deployed applications, and current deployments.</p>

<h2>SYNTAX</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent dump
</code></pre></div></div>

<h2>OPTIONS</h2>

<p>none</p>

<h2>USAGE</h2>

<p>This command is typically used for troubleshooting or to quickly see what applications are deployed and running on the server.</p>

<h2>EXAMPLES</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent dump
Processes:
DistelliAgent Running 1136 2015-07-08 13:14:01 PDT (3 hours ago)
envs/SA_Linux Running 13200 2015-07-08 16:40:11 PDT (2 minutes ago)

Apps:
d123:simpleapp:sa_linux Running /distelli/envs/SA_Linux/bin/distelli-run.sh Daemon
d-a123456789b123456789
a-c987654321d987654321
-1/10/900/900/900
</code></pre></div></div>

<h2 id="h3usrlocalbindistelli-agent-helph3">&lt;h3&gt;<a name="agent-help"></a>/usr/local/bin/distelli agent help&lt;/h3&gt;</h2>

<p>Prints the agent commands and brief help message for each.</p>

<h2>SYNTAX</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent help
</code></pre></div></div>

<h2>OPTIONS</h2>

<p>None.</p>

<h2>USAGE</h2>

<p>Use to get help.</p>

<h2>EXAMPLE</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent help
Usage: /usr/local/bin/distelli agent -dtk-dir &lt;dir&gt; &lt;command&gt;

Connect your server to Pipelines

-dtk-dir &lt;dir&gt;
Undocumented, defaults to /distelli

stop
Stops all processes being supervised, and stops the supervisor, use with CAUTION since all applications deployed (and the agent) will be stopped

version
Display the version of the agent

status
Check if the agent is running and print the server name

uninstall
Uninstall the Pipelines agent permanently.

run
Run the Pipelines agent in the foreground, printing log files to STDERR. This command should only be ran as a child of `dtk supervise`.

install
Install and possibly start (or restart) the agent.

dump
Print the processes, applications, and current deployments

loglevel debug|info|warn|error
Set the log level

start
Start (or restart) the agent.

supervise
Undocumented
</code></pre></div></div>

<h2 id="h3usrlocalbindistelli-agent-installh3">&lt;h3&gt;<a name="agent-install"></a>/usr/local/bin/distelli agent install&lt;/h3&gt;</h2>

<p>Install and possibly start (or restart) the agent.</p>

<h2>SYNTAX</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent install [-nostart] [-onboot] [-conf FILE]
</code></pre></div></div>

<h2>OPTIONS</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-nostart
</code></pre></div></div>

<p>This will install the agent, but not start it. Manual action will be required to start the agent.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-onboot
</code></pre></div></div>

<p>This will install the agent, but not start it. The agent will automatically start after the next reboot.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-conf FILE
</code></pre></div></div>

<p>This option tells the agent to read a distelli.yml for the agent access token and secret key. See <a href="./distelliyml.html">distelli.yml usage</a> for more information.</p>

<h2>USAGE</h2>

<p>The <code class="highlighter-rouge">/usr/local/bin/distelli agent install</code> command can be used to change the agent behavior. Using this command you can specify install options, as noted above.
If you issue this command on a server that has running deployed software, it will continue to run. If you specify the -nostart option, the applications will not continue to run after a boot of the server. Doing a <code class="highlighter-rouge">/usr/local/bin/distelli agent install</code> or <code class="highlighter-rouge">/usr/local/bin/distelli agent start</code> will (re)start the deployed applications.</p>

<blockquote>
  <p><strong>Caution:</strong> The above comments assume the application running was started with the <a href="../for-apps/manifest.html">Exec section of the distelli-manifest.yml</a>.</p>
</blockquote>

<h2>EXAMPLES</h2>

<p>Reinstall the agent and tell it not to start until next boot.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent install -onboot
</code></pre></div></div>

<h2 id="h3usrlocalbindistelli-agent-loglevelh3">&lt;h3&gt;<a name="agent-loglevel"></a>/usr/local/bin/distelli agent loglevel&lt;/h3&gt;</h2>

<p>Set the agent logging level. Logging is done to /distelli/logs/agent.log. The default is <strong>info</strong>.</p>

<blockquote>
  <p><strong>Caution:</strong> This command is typically used only under the guidance of Puppet Pipelines support.</p>
</blockquote>

<h2>SYNTAX</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent loglevel debug|error|info|warn
</code></pre></div></div>

<h2>OPTIONS</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>debug
</code></pre></div></div>

<p>Sets the logging level to debug. The highest level of logging.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>error
</code></pre></div></div>

<p>Sets the logging level to error. The agent will only log errors.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>info
</code></pre></div></div>

<p>Sets the logging level to info. The agent will log information messages that highlight progress. This is the default level.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>warn
</code></pre></div></div>

<p>Sets the logging level to warn. Only potentially harmful situations will be logged.</p>

<h2>USAGE</h2>

<p>This command will typically only be used when requested by Puppet Pipelines support.</p>

<h2>EXAMPLES</h2>

<p>Set the logging level to <strong>error</strong>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent loglevel error
</code></pre></div></div>

<h2 id="h3usrlocalbindistelli-agent-runh3">&lt;h3&gt;<a name="agent-run"></a>/usr/local/bin/distelli agent run&lt;/h3&gt;</h2>

<p>This is an internal command used to run the agent.</p>

<blockquote>
  <p><strong>Caution:</strong> This command is typically used only under the guidance of Puppet Pipelines support.</p>
</blockquote>

<h2>SYNTAX</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent run
</code></pre></div></div>

<h2>OPTIONS</h2>

<p>None.</p>

<h2>USAGE</h2>

<p>This command is used by internal mechanisms to run the agent.</p>

<h2>EXAMPLES</h2>

<p>None.</p>

<h2 id="h3usrlocalbindistelli-agent-starth3">&lt;h3&gt;<a name="agent-start"></a>/usr/local/bin/distelli agent start&lt;/h3&gt;</h2>

<p>This will start the agent. if the agent is already running, this will restart the agent.</p>

<h2>SYNTAX</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent start
</code></pre></div></div>

<h2>OPTIONS</h2>

<p>None.</p>

<h2>USAGE</h2>

<p>Used to start the agent. If the agent was installed with the <code class="highlighter-rouge">-nostart</code> option, this command <code class="highlighter-rouge">/usr/local/bin/distelli agent start</code> will start the agent.</p>

<h2>EXAMPLES</h2>

<p>Starting the agent.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent start
Running under 'jdoe' account
Starting upstart daemon with name:\tdtk-supervise-cc123345677ad94a8d34ac610381242f9ae28bb8
</code></pre></div></div>

<h2 id="h3usrlocalbindistelli-agent-statush3">&lt;h3&gt;<a name="agent-status"></a>/usr/local/bin/distelli agent status&lt;/h3&gt;</h2>

<p>Shows the current status of the agent.</p>

<h2>SYNTAX</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent status
</code></pre></div></div>

<h2>OPTIONS</h2>

<p>None.</p>

<h2>USAGE</h2>

<p>Use this command to check the status of the agent. This is useful when confirming that the agent was properly installed.</p>

<h2>EXAMPLES</h2>

<p>Look at the status of a running agent.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent status
Distelli Agent (serverA) is Running with id 766b88c8-e925-11e4-ae8b-080027cc07f7
</code></pre></div></div>

<p>Look at the status of a stopped agent.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent status
Distelli Agent is Stopped
</code></pre></div></div>

<h2 id="h3usrlocalbindistelli-agent-stoph3">&lt;h3&gt;<a name="agent-stop"></a>/usr/local/bin/distelli agent stop&lt;/h3&gt;</h2>

<p>Stops the running agent.</p>

<h2>SYNTAX</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent stop
</code></pre></div></div>

<h2>OPTIONS</h2>

<p>None.</p>

<h2>USAGE</h2>

<p>Use this to stop the agent running in the background.</p>

<h2>EXAMPLES</h2>

<p>Stop the agent.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent stop
</code></pre></div></div>

<h2 id="h3usrlocalbindistelli-agent-uninstallh3">&lt;h3&gt;<a name="agent-uninstall"></a>/usr/local/bin/distelli agent uninstall&lt;/h3&gt;</h2>

<p>Use this to uninstall the agent.</p>

<h2>SYNTAX</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent uninstall
</code></pre></div></div>

<h2>OPTIONS</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>--yes
</code></pre></div></div>

<p>The <code class="highlighter-rouge">--yes</code> option facilitates a quiet deletion and auto-answers <code class="highlighter-rouge">yes</code> to the <strong>Continue? (yes/no)</strong> prompt.</p>

<h2>USAGE</h2>

<p>Uninstalling the agent will cause the agent to stop running and for the agent to destroy its Unique ID (UID).</p>
<ul>
<li>All Pipelines deployed applications will be removed from the server.</li>

<li>The server will be removed from all environments.</li>

<li>The server will be removed from its Pipelines account.</li>

<li>The agent supervise process will no longer start at boot.</li>

</ul>

<p>Uninstalling the agent doesn’t remove the agent files, which allows for a future <a href="./agent.html">/usr/local/bin/distelli agent install</a>.</p>

<h2>EXAMPLES</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent uninstall
Are you sure you want to uninstall the Distelli Agent? (to avoid this prompt, pass --yes flag)
 * All applications will be removed from this server
 * The server will be removed from all environments
 * The server will be removed from the web interface
 * The supervise process will be removed from 'upstart'
Continue? (yes/no)
yes
#
</code></pre></div></div>

<h2 id="h3usrlocalbindistelli-agent-versionh3">&lt;h3&gt;<a name="agent-version"></a>/usr/local/bin/distelli agent version&lt;/h3&gt;</h2>

<p>Shows the current version of the installed agent.</p>

<h2>SYNTAX</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent version
</code></pre></div></div>

<h2>OPTIONS</h2>

<p>None.</p>

<h2>USAGE</h2>

<p>Show the version of the Pipelines agent.</p>

<h2>EXAMPLES</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/bin/distelli agent version
Distelli Agent 3.34
Copyright (C) 2015 Distelli Inc.
</code></pre></div></div>

